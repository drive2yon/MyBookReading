using System;
using System.Collections.Generic;
using System.IO;
using System.Net;
using System.Xml.Linq;
using Newtonsoft.Json;

namespace MyBookReading
{
    
	//sample xml generated by http://webservices.amazon.co.jp/scratchpad/index.html#
	//ResponseGroup: Images,Small

	//convert xml to json by VisualStudioCode "SmartPaset" plugin,
	//and generated json desirialize class by http://json2csharp.com/#
	//public class Header
	//{
	//	public string _Name { get; set; }
	//	public string _Value { get; set; }
	//}

	//public class HTTPHeaders
	//{
	//	public Header Header { get; set; }
	//}

	//public class Argument
	//{
	//	public string _Name { get; set; }
	//	public string _Value { get; set; }
	//}

	//public class Arguments
	//{
	//	public List<Argument> Argument { get; set; }
	//}

	//public class OperationRequest
	//{
	//	public HTTPHeaders HTTPHeaders { get; set; }
	//	public string RequestId { get; set; }
	//	public Arguments Arguments { get; set; }
	//	public string RequestProcessingTime { get; set; }
	//}

	//public class ItemSearchRequest
	//{
	//	public string Keywords { get; set; }
	//	public List<string> ResponseGroup { get; set; }
	//	public string SearchIndex { get; set; }
	//}

	//public class Request
	//{
	//	public string IsValid { get; set; }
	//	public ItemSearchRequest ItemSearchRequest { get; set; }
	//}

	//public class ItemLink
	//{
	//	public string Description { get; set; }
	//	public string URL { get; set; }
	//}

	//public class ItemLinks
	//{
	//	public List<ItemLink> ItemLink { get; set; }
	//}

	//public class Height
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class Width
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class SmallImage
	//{
	//	public string URL { get; set; }
	//	public Height Height { get; set; }
	//	public Width Width { get; set; }
	//}

	//public class Height2
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class Width2
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class MediumImage
	//{
	//	public string URL { get; set; }
	//	public Height2 Height { get; set; }
	//	public Width2 Width { get; set; }
	//}

	//public class Height3
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class Width3
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class LargeImage
	//{
	//	public string URL { get; set; }
	//	public Height3 Height { get; set; }
	//	public Width3 Width { get; set; }
	//}

	//public class Height4
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class Width4
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class SwatchImage
	//{
	//	public string URL { get; set; }
	//	public Height4 Height { get; set; }
	//	public Width4 Width { get; set; }
	//}

	//public class Height5
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class Width5
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class SmallImage2
	//{
	//	public string URL { get; set; }
	//	public Height5 Height { get; set; }
	//	public Width5 Width { get; set; }
	//}

	//public class Height6
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class Width6
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class ThumbnailImage
	//{
	//	public string URL { get; set; }
	//	public Height6 Height { get; set; }
	//	public Width6 Width { get; set; }
	//}

	//public class Height7
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class Width7
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class TinyImage
	//{
	//	public string URL { get; set; }
	//	public Height7 Height { get; set; }
	//	public Width7 Width { get; set; }
	//}

	//public class Height8
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class Width8
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class MediumImage2
	//{
	//	public string URL { get; set; }
	//	public Height8 Height { get; set; }
	//	public Width8 Width { get; set; }
	//}

	//public class Height9
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class Width9
	//{
	//	public string _Units { get; set; }
	//	public string __text { get; set; }
	//}

	//public class LargeImage2
	//{
	//	public string URL { get; set; }
	//	public Height9 Height { get; set; }
	//	public Width9 Width { get; set; }
	//}

	//public class ImageSet
	//{
	//	public SwatchImage SwatchImage { get; set; }
	//	public SmallImage2 SmallImage { get; set; }
	//	public ThumbnailImage ThumbnailImage { get; set; }
	//	public TinyImage TinyImage { get; set; }
	//	public MediumImage2 MediumImage { get; set; }
	//	public LargeImage2 LargeImage { get; set; }
	//	public string _Category { get; set; }
	//}

	//public class ImageSets
	//{
	//	public ImageSet ImageSet { get; set; }
	//}

	//public class ItemAttributes
	//{
	//	public object Creator { get; set; }
	//	public string Manufacturer { get; set; }
	//	public string ProductGroup { get; set; }
	//	public string Title { get; set; }
	//	public object Author { get; set; }
	//}

	//public class Item
	//{
	//	public string ASIN { get; set; }
	//	public string DetailPageURL { get; set; }
	//	public ItemLinks ItemLinks { get; set; }
	//	public SmallImage SmallImage { get; set; }
	//	public MediumImage MediumImage { get; set; }
	//	public LargeImage LargeImage { get; set; }
	//	public ImageSets ImageSets { get; set; }
	//	public ItemAttributes ItemAttributes { get; set; }
	//}

	//public class Items
	//{
	//	public Request Request { get; set; }
	//	public string TotalResults { get; set; }
	//	public string TotalPages { get; set; }
	//	public string MoreSearchResultsUrl { get; set; }
	//	public List<Item> Item { get; set; }
	//}

	//public class ItemSearchResponse
	//{
	//	public OperationRequest OperationRequest { get; set; }
	//	public Items Items { get; set; }
	//	public string _xmlns { get; set; }
	//}

	//public class RootObject
	//{
	//	public ItemSearchResponse ItemSearchResponse { get; set; }
	//}

	public class AmazonBookSearch
    {
		private AmazonCresidentials amazonKey;
		private const string MARKET_PLACE_URL = "webservices.amazon.co.jp";
		private const string DESTINATION = "ecs.amazonaws.jp";

		const string END_POINT_JP = "ecs.amazonaws.jp";

        public AmazonBookSearch(AmazonCresidentials cresidentials)
        {
            amazonKey = cresidentials;
        }

		public async void Search(string keyword)
		{
			string url = makeRequestURL(keyword);
			string response = await VisitUrl(url);
		}

		private string makeRequestURL(string keyWord)
		{
            keyWord = System.Net.WebUtility.UrlEncode(keyWord);

			DateTime now = DateTime.UtcNow;
			string strTime = now.ToString("yyyy-MM-ddTHH:mm:ss.000Z"); // IS0 8601
			strTime = strTime.Replace(":", "%3A");

			string PARAM_TIME_STAMP = "&Timestamp=" + strTime.Replace(":", "%3A");
			string PARAM_AWSKEY_AND_TAG = "AWSAccessKeyId=" + amazonKey.access_key_id + "&AssociateTag=" + amazonKey.associate_tag;
			string PARAM_KEYWORD = "&Keywords=" + keyWord;
			const string PARAM_OPERATION = "&Operation=ItemSearch&ResponseGroup=Images%2CSmall&SearchIndex=Books&Service=AWSECommerceService";
			const string PARAM_VERSION = "&Version=2011-08-01";

			System.Text.StringBuilder strBuilder = new System.Text.StringBuilder();
			strBuilder.Append("GET\n")
					  .Append(MARKET_PLACE_URL + "\n")
					  .Append("/onca/xml\n")
					  .Append(PARAM_AWSKEY_AND_TAG + PARAM_KEYWORD + PARAM_OPERATION + PARAM_TIME_STAMP + PARAM_VERSION);
			string toBeSigned = strBuilder.ToString();
			string signedString = signString(toBeSigned);

			string requestUrl = "http://" + MARKET_PLACE_URL + "/onca/xml?" + PARAM_AWSKEY_AND_TAG + PARAM_KEYWORD + PARAM_OPERATION + PARAM_TIME_STAMP + PARAM_VERSION + "&Signature=" + signedString;
			strBuilder.Clear();
			strBuilder.Append("http://")
					  .Append(MARKET_PLACE_URL)
					  .Append("/onca/xml?")
					  .Append(PARAM_AWSKEY_AND_TAG + PARAM_KEYWORD + PARAM_OPERATION + PARAM_TIME_STAMP + PARAM_VERSION)
					  .Append("&Signature=" + signedString);
			bool test = strBuilder.ToString().Equals(requestUrl);
			return strBuilder.ToString();
		}

		string signString(string signMe)
		{
			HmacSha256 hmac = new HmacSha256();
			byte[] hashBytes = hmac.Hash(signMe, amazonKey.secret_access_key);
			string signature = Convert.ToBase64String(hashBytes);
			signature = signature.Replace("/", "%2F").Replace("=", "%3D").Replace("+", "%2B"); // RFC 3986
			return signature;
		}

		protected static async System.Threading.Tasks.Task<string> VisitUrl(string url)
		{
            string jsonText = "";
            try
            {
                //WebRequest request = WebRequest.Create(url);
                //WebResponse response = await request.GetResponseAsync();

                //Stream st = response.GetResponseStream();
                //StreamReader sr = new StreamReader(st);

                //Test
                string xml = "<?xml version=\"1.0\" ?><ItemSearchResponse xmlns=\"http://webservices.amazon.com/AWSECommerceService/2011-08-01\"><OperationRequest><RequestId>fcefa72f-15ad-4e76-b495-20ec86651d5f</RequestId><Arguments><Argument Name=\"AWSAccessKeyId\" Value=\"AKIAIANPYOSNTZNYP6RQ\"></Argument><Argument Name=\"AssociateTag\" Value=\"dynamitecruis-22\"></Argument><Argument Name=\"Keywords\" Value=\"星を\"></Argument><Argument Name=\"Operation\" Value=\"ItemSearch\"></Argument><Argument Name=\"ResponseGroup\" Value=\"Images,Small\"></Argument><Argument Name=\"SearchIndex\" Value=\"Books\"></Argument><Argument Name=\"Service\" Value=\"AWSECommerceService\"></Argument><Argument Name=\"Timestamp\" Value=\"2017-07-09T02:35:48.000Z\"></Argument><Argument Name=\"Version\" Value=\"2011-08-01\"></Argument><Argument Name=\"Signature\" Value=\"tHTVHMfi0nlRgaoE/YB1LWsy9UolNqIaFfNgAi3O2mA=\"></Argument></Arguments><RequestProcessingTime>0.1956069480000000</RequestProcessingTime></OperationRequest><Items><Request><IsValid>True</IsValid><ItemSearchRequest><Keywords>星を</Keywords><ResponseGroup>Images</ResponseGroup><ResponseGroup>Small</ResponseGroup><SearchIndex>Books</SearchIndex></ItemSearchRequest></Request><TotalResults>10830</TotalResults><TotalPages>1083</TotalPages><MoreSearchResultsUrl>https://www.amazon.co.jp/gp/search?linkCode=xm2&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;keywords=%E6%98%9F%E3%82%92&amp;tag=dynamitecruis-22&amp;creative=5143&amp;url=search-alias%3Dbooks-single-index&amp;camp=2025</MoreSearchResultsUrl><Item><ASIN>4592215893</ASIN><DetailPageURL>https://www.amazon.co.jp/%E9%BB%92%E4%BC%AF%E7%88%B5%E3%81%AF%E6%98%9F%E3%82%92%E6%84%9B%E3%81%A7%E3%82%8B-9-%E8%8A%B1%E3%81%A8%E3%82%86%E3%82%81%E3%82%B3%E3%83%9F%E3%83%83%E3%82%AF%E3%82%B9-%E9%9F%B3%E4%B9%85%E7%84%A1/dp/4592215893?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4592215893</DetailPageURL><ItemLinks><ItemLink><Description>Add To Wishlist</Description><URL>https://www.amazon.co.jp/gp/registry/wishlist/add-item.html?asin.0=4592215893&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4592215893</URL></ItemLink><ItemLink><Description>Tell A Friend</Description><URL>https://www.amazon.co.jp/gp/pdp/taf/4592215893?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4592215893</URL></ItemLink><ItemLink><Description>All Customer Reviews</Description><URL>https://www.amazon.co.jp/review/product/4592215893?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4592215893</URL></ItemLink><ItemLink><Description>All Offers</Description><URL>https://www.amazon.co.jp/gp/offer-listing/4592215893?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4592215893</URL></ItemLink></ItemLinks><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41V1PP1%2B9kL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">52</Width></SmallImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41V1PP1%2B9kL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">112</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41V1PP1%2B9kL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">350</Width></LargeImage><ImageSets><ImageSet Category=\"primary\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41V1PP1%2B9kL._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41V1PP1%2B9kL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">52</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41V1PP1%2B9kL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">52</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41V1PP1%2B9kL._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">77</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41V1PP1%2B9kL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">112</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41V1PP1%2B9kL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">350</Width></LargeImage></ImageSet></ImageSets><ItemAttributes><Author>音久無</Author><Manufacturer>白泉社</Manufacturer><ProductGroup>Book</ProductGroup><Title>黒伯爵は星を愛でる(9): 花とゆめコミックス</Title></ItemAttributes></Item><Item><ASIN>448866301X</ASIN><DetailPageURL>https://www.amazon.co.jp/%E6%98%9F%E3%82%92%E7%B6%99%E3%81%90%E3%82%82%E3%81%AE-%E5%89%B5%E5%85%83SF%E6%96%87%E5%BA%AB-%E3%82%B8%E3%82%A7%E3%82%A4%E3%83%A0%E3%82%BA%E3%83%BBP%E3%83%BB%E3%83%9B%E3%83%BC%E3%82%AC%E3%83%B3/dp/448866301X?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=448866301X</DetailPageURL><ItemLinks><ItemLink><Description>Add To Wishlist</Description><URL>https://www.amazon.co.jp/gp/registry/wishlist/add-item.html?asin.0=448866301X&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=448866301X</URL></ItemLink><ItemLink><Description>Tell A Friend</Description><URL>https://www.amazon.co.jp/gp/pdp/taf/448866301X?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=448866301X</URL></ItemLink><ItemLink><Description>All Customer Reviews</Description><URL>https://www.amazon.co.jp/review/product/448866301X?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=448866301X</URL></ItemLink><ItemLink><Description>All Offers</Description><URL>https://www.amazon.co.jp/gp/offer-listing/448866301X?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=448866301X</URL></ItemLink></ItemLinks><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51GMQM4MC4L._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51GMQM4MC4L._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">114</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51GMQM4MC4L.jpg</URL><Height Units=\"pixels\">475</Height><Width Units=\"pixels\">337</Width></LargeImage><ImageSets><ImageSet Category=\"primary\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51GMQM4MC4L._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51GMQM4MC4L._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51GMQM4MC4L._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51GMQM4MC4L._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">78</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51GMQM4MC4L._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">114</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51GMQM4MC4L.jpg</URL><Height Units=\"pixels\">475</Height><Width Units=\"pixels\">337</Width></LargeImage></ImageSet></ImageSets><ItemAttributes><Author>ジェイムズ・P・ホーガン</Author><Creator Role=\"翻訳\">池 央耿</Creator><Manufacturer>東京創元社</Manufacturer><ProductGroup>Book</ProductGroup><Title>星を継ぐもの (創元SF文庫)</Title></ItemAttributes></Item><Item><ASIN>4041026318</ASIN><DetailPageURL>https://www.amazon.co.jp/%E5%B0%8F%E8%AA%AC-%E6%98%9F%E3%82%92%E8%BF%BD%E3%81%86%E5%AD%90%E3%81%A9%E3%82%82-%E8%A7%92%E5%B7%9D%E6%96%87%E5%BA%AB-%E3%81%82%E3%81%8D%E3%81%95%E3%81%8B-%E3%81%82%E3%81%95%E3%81%B2/dp/4041026318?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4041026318</DetailPageURL><ItemLinks><ItemLink><Description>Add To Wishlist</Description><URL>https://www.amazon.co.jp/gp/registry/wishlist/add-item.html?asin.0=4041026318&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4041026318</URL></ItemLink><ItemLink><Description>Tell A Friend</Description><URL>https://www.amazon.co.jp/gp/pdp/taf/4041026318?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4041026318</URL></ItemLink><ItemLink><Description>All Customer Reviews</Description><URL>https://www.amazon.co.jp/review/product/4041026318?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4041026318</URL></ItemLink><ItemLink><Description>All Offers</Description><URL>https://www.amazon.co.jp/gp/offer-listing/4041026318?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4041026318</URL></ItemLink></ItemLinks><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51pTZZciI2L._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51pTZZciI2L._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">113</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51pTZZciI2L.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">353</Width></LargeImage><ImageSets><ImageSet Category=\"primary\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51pTZZciI2L._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51pTZZciI2L._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51pTZZciI2L._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51pTZZciI2L._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">78</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51pTZZciI2L._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">113</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51pTZZciI2L.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">353</Width></LargeImage></ImageSet></ImageSets><ItemAttributes><Author>あきさか あさひ</Author><Creator Role=\"原著\">新海 誠</Creator><Manufacturer>KADOKAWA</Manufacturer><ProductGroup>Book</ProductGroup><Title>小説 星を追う子ども (角川文庫)</Title></ItemAttributes></Item><Item><ASIN>B072N53BPJ</ASIN><DetailPageURL>https://www.amazon.co.jp/%E3%82%A8%E3%83%9E%E3%81%AF%E6%98%9F%E3%81%AE%E5%A4%A2%E3%82%92%E8%A6%8B%E3%82%8B-%E3%83%A2%E3%83%BC%E3%83%8B%E3%83%B3%E3%82%B0%E3%82%B3%E3%83%9F%E3%83%83%E3%82%AF%E3%82%B9-%E9%AB%98%E6%B5%9C%E5%AF%9B-ebook/dp/B072N53BPJ?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B072N53BPJ</DetailPageURL><ItemLinks><ItemLink><Description>Add To Wishlist</Description><URL>https://www.amazon.co.jp/gp/registry/wishlist/add-item.html?asin.0=B072N53BPJ&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=B072N53BPJ</URL></ItemLink><ItemLink><Description>Tell A Friend</Description><URL>https://www.amazon.co.jp/gp/pdp/taf/B072N53BPJ?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=B072N53BPJ</URL></ItemLink><ItemLink><Description>All Customer Reviews</Description><URL>https://www.amazon.co.jp/review/product/B072N53BPJ?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=B072N53BPJ</URL></ItemLink><ItemLink><Description>All Offers</Description><URL>https://www.amazon.co.jp/gp/offer-listing/B072N53BPJ?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=B072N53BPJ</URL></ItemLink></ItemLinks><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51igQd1k7CL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51igQd1k7CL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">113</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51igQd1k7CL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">352</Width></LargeImage><ImageSets><ImageSet Category=\"primary\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51igQd1k7CL._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51igQd1k7CL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51igQd1k7CL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51igQd1k7CL._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">77</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51igQd1k7CL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">113</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51igQd1k7CL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">352</Width></LargeImage></ImageSet></ImageSets><ItemAttributes><Author>高浜寛</Author><Manufacturer>講談社</Manufacturer><ProductGroup>eBooks</ProductGroup><Title>エマは星の夢を見る (モーニングコミックス)</Title></ItemAttributes></Item><Item><ASIN>4087710378</ASIN><DetailPageURL>https://www.amazon.co.jp/%E6%98%9F%E3%81%AB%E9%A1%98%E3%81%84%E3%82%92%E3%80%81%E3%81%9D%E3%81%97%E3%81%A6%E6%89%8B%E3%82%92%E3%80%82-%E9%9D%92%E7%BE%BD-%E6%82%A0/dp/4087710378?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4087710378</DetailPageURL><ItemLinks><ItemLink><Description>Add To Wishlist</Description><URL>https://www.amazon.co.jp/gp/registry/wishlist/add-item.html?asin.0=4087710378&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4087710378</URL></ItemLink><ItemLink><Description>Tell A Friend</Description><URL>https://www.amazon.co.jp/gp/pdp/taf/4087710378?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4087710378</URL></ItemLink><ItemLink><Description>All Customer Reviews</Description><URL>https://www.amazon.co.jp/review/product/4087710378?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4087710378</URL></ItemLink><ItemLink><Description>All Offers</Description><URL>https://www.amazon.co.jp/gp/offer-listing/4087710378?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4087710378</URL></ItemLink></ItemLinks><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41Q-2ni6lZL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41Q-2ni6lZL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">114</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41Q-2ni6lZL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">355</Width></LargeImage><ImageSets><ImageSet Category=\"variant\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51HU4XjbfBL._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51HU4XjbfBL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">52</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51HU4XjbfBL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">52</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51HU4XjbfBL._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">76</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51HU4XjbfBL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">110</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51HU4XjbfBL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">344</Width></LargeImage></ImageSet><ImageSet Category=\"primary\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41Q-2ni6lZL._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41Q-2ni6lZL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41Q-2ni6lZL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41Q-2ni6lZL._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">78</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41Q-2ni6lZL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">114</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41Q-2ni6lZL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">355</Width></LargeImage></ImageSet></ImageSets><ItemAttributes><Author>青羽 悠</Author><Manufacturer>集英社</Manufacturer><ProductGroup>Book</ProductGroup><Title>星に願いを、そして手を。</Title></ItemAttributes></Item><Item><ASIN>404601508X</ASIN><DetailPageURL>https://www.amazon.co.jp/%E3%81%9D%E3%81%86%E3%81%A0%E3%80%81%E6%98%9F%E3%82%92%E5%A3%B2%E3%82%8D%E3%81%86-%E3%80%8C%E5%A3%B2%E3%82%8C%E3%81%AA%E3%81%84%E6%99%82%E4%BB%A3%E3%80%8D%E3%81%AE%E6%96%B0%E3%81%97%E3%81%84%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9%E3%83%A2%E3%83%87%E3%83%AB-%E6%B0%B8%E4%BA%95%E5%AD%9D%E5%B0%9A/dp/404601508X?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=404601508X</DetailPageURL><ItemLinks><ItemLink><Description>Add To Wishlist</Description><URL>https://www.amazon.co.jp/gp/registry/wishlist/add-item.html?asin.0=404601508X&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=404601508X</URL></ItemLink><ItemLink><Description>Tell A Friend</Description><URL>https://www.amazon.co.jp/gp/pdp/taf/404601508X?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=404601508X</URL></ItemLink><ItemLink><Description>All Customer Reviews</Description><URL>https://www.amazon.co.jp/review/product/404601508X?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=404601508X</URL></ItemLink><ItemLink><Description>All Offers</Description><URL>https://www.amazon.co.jp/gp/offer-listing/404601508X?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=404601508X</URL></ItemLink></ItemLinks><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51h66OlDQ0L._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">51</Width></SmallImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51h66OlDQ0L._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">109</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51h66OlDQ0L.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">341</Width></LargeImage><ImageSets><ImageSet Category=\"variant\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51v61qObjML._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51v61qObjML._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">51</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51v61qObjML._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">51</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51v61qObjML._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">75</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51v61qObjML._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">109</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51v61qObjML.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">342</Width></LargeImage></ImageSet><ImageSet Category=\"variant\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/610BtPb83NL._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">22</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/610BtPb83NL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">55</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/610BtPb83NL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">55</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/610BtPb83NL._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">80</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/610BtPb83NL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">116</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/610BtPb83NL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">364</Width></LargeImage></ImageSet><ImageSet Category=\"primary\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51h66OlDQ0L._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">20</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51h66OlDQ0L._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">51</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51h66OlDQ0L._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">51</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51h66OlDQ0L._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">75</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51h66OlDQ0L._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">109</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51h66OlDQ0L.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">341</Width></LargeImage></ImageSet></ImageSets><ItemAttributes><Author>永井孝尚</Author><Manufacturer>KADOKAWA</Manufacturer><ProductGroup>Book</ProductGroup><Title>そうだ、星を売ろう  「売れない時代」の新しいビジネスモデル</Title></ItemAttributes></Item><Item><ASIN>4592215885</ASIN><DetailPageURL>https://www.amazon.co.jp/%E9%BB%92%E4%BC%AF%E7%88%B5%E3%81%AF%E6%98%9F%E3%82%92%E6%84%9B%E3%81%A7%E3%82%8B-8-%E8%8A%B1%E3%81%A8%E3%82%86%E3%82%81COMICS-%E9%9F%B3%E4%B9%85%E7%84%A1/dp/4592215885?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4592215885</DetailPageURL><ItemLinks><ItemLink><Description>Add To Wishlist</Description><URL>https://www.amazon.co.jp/gp/registry/wishlist/add-item.html?asin.0=4592215885&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4592215885</URL></ItemLink><ItemLink><Description>Tell A Friend</Description><URL>https://www.amazon.co.jp/gp/pdp/taf/4592215885?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4592215885</URL></ItemLink><ItemLink><Description>All Customer Reviews</Description><URL>https://www.amazon.co.jp/review/product/4592215885?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4592215885</URL></ItemLink><ItemLink><Description>All Offers</Description><URL>https://www.amazon.co.jp/gp/offer-listing/4592215885?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4592215885</URL></ItemLink></ItemLinks><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51ux41hUxlL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">48</Width></SmallImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51ux41hUxlL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">102</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51ux41hUxlL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">318</Width></LargeImage><ImageSets><ImageSet Category=\"primary\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51ux41hUxlL._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">19</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51ux41hUxlL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">48</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51ux41hUxlL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">48</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51ux41hUxlL._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">70</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51ux41hUxlL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">102</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51ux41hUxlL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">318</Width></LargeImage></ImageSet></ImageSets><ItemAttributes><Author>音久無</Author><Manufacturer>白泉社</Manufacturer><ProductGroup>Book</ProductGroup><Title>黒伯爵は星を愛でる 8 (花とゆめCOMICS)</Title></ItemAttributes></Item><Item><ASIN>B06WD8TWM8</ASIN><DetailPageURL>https://www.amazon.co.jp/%E9%9A%94%E9%80%B1%E5%88%8ACD%E3%81%A4%E3%81%8D%E3%83%9E%E3%82%AC%E3%82%B8%E3%83%B3%E3%80%8C%E3%81%93%E3%81%93%E3%82%8D%E3%81%AB%E9%9F%BF%E3%81%8F%E6%97%A5%E6%9C%AC%E3%81%AE%E6%AD%8C%E3%80%8D2017%E5%B9%B4-7-25%E5%8F%B7-%E8%A6%8B%E4%B8%8A%E3%81%92%E3%81%A6%E3%81%94%E3%82%89%E3%82%93%E5%A4%9C%E3%81%AE%E6%98%9F%E3%82%92/dp/B06WD8TWM8?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B06WD8TWM8</DetailPageURL><ItemLinks><ItemLink><Description>Add To Wishlist</Description><URL>https://www.amazon.co.jp/gp/registry/wishlist/add-item.html?asin.0=B06WD8TWM8&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=B06WD8TWM8</URL></ItemLink><ItemLink><Description>Tell A Friend</Description><URL>https://www.amazon.co.jp/gp/pdp/taf/B06WD8TWM8?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=B06WD8TWM8</URL></ItemLink><ItemLink><Description>All Customer Reviews</Description><URL>https://www.amazon.co.jp/review/product/B06WD8TWM8?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=B06WD8TWM8</URL></ItemLink><ItemLink><Description>All Offers</Description><URL>https://www.amazon.co.jp/gp/offer-listing/B06WD8TWM8?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=B06WD8TWM8</URL></ItemLink></ItemLinks><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41DXtZFcwOL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">52</Width></SmallImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41DXtZFcwOL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">112</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41DXtZFcwOL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">350</Width></LargeImage><ImageSets><ImageSet Category=\"primary\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41DXtZFcwOL._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41DXtZFcwOL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">52</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41DXtZFcwOL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">52</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41DXtZFcwOL._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">77</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41DXtZFcwOL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">112</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/41DXtZFcwOL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">350</Width></LargeImage></ImageSet></ImageSets><ItemAttributes><Manufacturer>小学館</Manufacturer><ProductGroup>Book</ProductGroup><Title>隔週刊CDつきマガジン「こころに響く日本の歌」2017年 7/25号 見上げてごらん夜の星を</Title></ItemAttributes></Item><Item><ASIN>4063887413</ASIN><DetailPageURL>https://www.amazon.co.jp/%E3%82%A8%E3%83%9E%E3%81%AF%E6%98%9F%E3%81%AE%E5%A4%A2%E3%82%92%E8%A6%8B%E3%82%8B-%E3%83%A2%E3%83%BC%E3%83%8B%E3%83%B3%E3%82%B0-KC-%E9%AB%98%E6%B5%9C-%E5%AF%9B/dp/4063887413?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4063887413</DetailPageURL><ItemLinks><ItemLink><Description>Add To Wishlist</Description><URL>https://www.amazon.co.jp/gp/registry/wishlist/add-item.html?asin.0=4063887413&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4063887413</URL></ItemLink><ItemLink><Description>Tell A Friend</Description><URL>https://www.amazon.co.jp/gp/pdp/taf/4063887413?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4063887413</URL></ItemLink><ItemLink><Description>All Customer Reviews</Description><URL>https://www.amazon.co.jp/review/product/4063887413?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4063887413</URL></ItemLink><ItemLink><Description>All Offers</Description><URL>https://www.amazon.co.jp/gp/offer-listing/4063887413?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4063887413</URL></ItemLink></ItemLinks><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/515h8inYcWL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">51</Width></SmallImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/515h8inYcWL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">110</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/515h8inYcWL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">343</Width></LargeImage><ImageSets><ImageSet Category=\"variant\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/61hZmDOmTNL._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/61hZmDOmTNL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/61hZmDOmTNL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/61hZmDOmTNL._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">77</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/61hZmDOmTNL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">113</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/61hZmDOmTNL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">352</Width></LargeImage></ImageSet><ImageSet Category=\"primary\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/515h8inYcWL._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/515h8inYcWL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">51</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/515h8inYcWL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">51</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/515h8inYcWL._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">75</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/515h8inYcWL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">110</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/515h8inYcWL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">343</Width></LargeImage></ImageSet></ImageSets><ItemAttributes><Author>高浜 寛</Author><Manufacturer>講談社</Manufacturer><ProductGroup>Book</ProductGroup><Title>エマは星の夢を見る (モーニング KC)</Title></ItemAttributes></Item><Item><ASIN>4327452785</ASIN><DetailPageURL>https://www.amazon.co.jp/%E3%80%8C%E6%98%9F%E3%81%AE%E7%8E%8B%E5%AD%90%E3%81%95%E3%81%BE%E3%80%8D%E3%82%92%E8%8B%B1%E8%AA%9E%E3%81%A7%E8%AA%AD%E3%82%82%E3%81%86-%E3%82%A2%E3%83%B3%E3%83%88%E3%83%AF%E3%83%BC%E3%83%8C%E3%83%BB%E3%83%89%E3%83%BB%E3%82%B5%E3%83%B3-%E3%83%86%E3%82%B0%E3%82%B8%E3%83%A5%E3%83%9A%E3%83%AA/dp/4327452785?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4327452785</DetailPageURL><ItemLinks><ItemLink><Description>Add To Wishlist</Description><URL>https://www.amazon.co.jp/gp/registry/wishlist/add-item.html?asin.0=4327452785&amp;SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4327452785</URL></ItemLink><ItemLink><Description>Tell A Friend</Description><URL>https://www.amazon.co.jp/gp/pdp/taf/4327452785?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4327452785</URL></ItemLink><ItemLink><Description>All Customer Reviews</Description><URL>https://www.amazon.co.jp/review/product/4327452785?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4327452785</URL></ItemLink><ItemLink><Description>All Offers</Description><URL>https://www.amazon.co.jp/gp/offer-listing/4327452785?SubscriptionId=AKIAIANPYOSNTZNYP6RQ&amp;tag=dynamitecruis-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=5143&amp;creativeASIN=4327452785</URL></ItemLink></ItemLinks><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51JbXFa15WL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51JbXFa15WL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">113</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51JbXFa15WL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">354</Width></LargeImage><ImageSets><ImageSet Category=\"primary\"><SwatchImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51JbXFa15WL._SL30_.jpg</URL><Height Units=\"pixels\">30</Height><Width Units=\"pixels\">21</Width></SwatchImage><SmallImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51JbXFa15WL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></SmallImage><ThumbnailImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51JbXFa15WL._SL75_.jpg</URL><Height Units=\"pixels\">75</Height><Width Units=\"pixels\">53</Width></ThumbnailImage><TinyImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51JbXFa15WL._SL110_.jpg</URL><Height Units=\"pixels\">110</Height><Width Units=\"pixels\">78</Width></TinyImage><MediumImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51JbXFa15WL._SL160_.jpg</URL><Height Units=\"pixels\">160</Height><Width Units=\"pixels\">113</Width></MediumImage><LargeImage><URL>https://images-fe.ssl-images-amazon.com/images/I/51JbXFa15WL.jpg</URL><Height Units=\"pixels\">500</Height><Width Units=\"pixels\">354</Width></LargeImage></ImageSet></ImageSets><ItemAttributes><Author>アントワーヌ・ド・サン=テグジュペリ</Author><Creator Role=\"その他\">キャサリン・ウッズ</Creator><Creator Role=\"その他\">西 きょうじ</Creator><Manufacturer>研究社</Manufacturer><ProductGroup>Book</ProductGroup><Title>「星の王子さま」を英語で読もう</Title></ItemAttributes></Item></Items></ItemSearchResponse>\n";
                Stream sr = new MemoryStream(System.Text.Encoding.UTF8.GetBytes(xml));

                XDocument doc = XDocument.Load(sr);
				jsonText = JsonConvert.SerializeXNode(doc);
				System.Diagnostics.Debug.WriteLine(jsonText);
			}
            catch (Exception exception)
            {
                if (exception is System.Net.WebException)
                {
                    HttpWebResponse response = ((System.Net.WebException)exception).Response as HttpWebResponse;
					HttpStatusCode code = (response == null) ? HttpStatusCode.InternalServerError : response.StatusCode;
                    System.Diagnostics.Debug.WriteLine(exception.ToString());
					//DoErrorHandling();
					//return;
                }else{
					System.Diagnostics.Debug.WriteLine(exception.ToString());
				}
            }

            if(jsonText.Length == 0)
            {
                return jsonText;
            }
			//RootObject jsonObject = JsonConvert.DeserializeObject<RootObject>(jsonText);
			//if(jsonObject == null )
			//{
			//    return "";
			//}

			var json = Codeplex.Data.DynamicJson.Parse(jsonText);
            //json.RootObject

			System.Text.StringBuilder strBuilder = new System.Text.StringBuilder();

			//foreach (var item in jsonObject.ItemSearchResponse.Items.Item)
			//{
			//	System.Diagnostics.Debug.WriteLine(item.ItemAttributes.Title);
			//	strBuilder.Append(item.ItemAttributes.Title).AppendLine();
			//}


			return strBuilder.ToString();
		}
    }
}
